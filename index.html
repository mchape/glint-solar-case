<!DOCTYPE html>

<html>
<head>
  <title>Glint Case</title>
</head>

<body>

<!-- https://europe-west1-freesolarcalc.cloudfunctions.net/wave_max/?lat=90.0&lon=1.3 -->
<p>This is the case for Glint Solar.</p> 
<p>Author: Miguel Chapela</p>
  
<p><form action="PayslipServlet" method="get">
          Latitude:    <input type="text" name="lat" id="lat"><br/>
          Longitude:   <input type="text" name="lon" id="lon"><br/>
          <input type="button" value="Submit" onClick="maxw()">
          <br>
          <span id="result"></span>
          
</form>
</p>
<script>
   function maxw() {
  console.log('about to fecth'); 
  fetch("https://europe-west1-freesolarcalc.cloudfunctions.net/wave_max/?lat=" + document.getElementById('lat').value + "&lon=" + document.getElementById('lon').value)
  .then(response => response.json())
  .then(data => {

   for(let prop in data){
    document.querySelector("#result").innerText  +=  "In the year " + prop + "  the maximum wave height was " + data[prop] + " meters" + "\n"
   }
})  
  }
</script> 

</body>
</html>
